<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>RicoBet VIP – Spin</title>
<style>
  .ri-spin-masc2 *{box-sizing:border-box}
  .ri-spin-masc2{
    --ring:rgba(255,255,255,.12); --text:#f2f3ff; --dim:#c5c7ff;
    --a1:#ff6ec4; --a2:#7873f5; --card:#111228; --warn:#ffe600;
    --gold1:#ffd36b; --gold2:#ffb436; --gold3:#ffcf7a;
    --wedgeDark:#ffc14a; --wedgeLight:#ffe39a;

    font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif; color:var(--text);

    /* brighter, dimensional background */
    min-height:100dvh;
    background:
      radial-gradient(1200px 600px at 50% -10%, #ffffff1f 0%, #0000 60%),
      conic-gradient(from 30deg, #ffffff10 0 8%, #0000 8% 25%, #ffffff0d 25% 33%, #0000 33% 50%, #ffffff10 50% 58%, #0000 58% 100%),
      radial-gradient(1200px 900px at 50% 30%, #2a3472 0%, #151a3b 55%, #0c0f24 100%);
    padding:18px;
  }

  .ri-card{
    background:linear-gradient(180deg,#141735,#0e1128); /* ✅ fixed */
    border:1px solid #202351; border-radius:18px;
    box-shadow:0 18px 50px rgba(0,0,0,.55), inset 0 1px 0 #303472;
    padding:16px; max-width:600px; margin:0 auto; text-align:center
  }

  .ri-title{margin:6px 0 4px; font-size:1.12rem}
  .ri-grad{background:linear-gradient(90deg,var(--a1),var(--a2)); -webkit-background-clip:text; background-clip:text; color:transparent}
  .ri-sub{margin:0 10px 12px; color:var(--dim); font-size:.95rem}

  /* === Buttons with effects === */
  .spinbtn,.copybtn{
    position:relative; cursor:pointer; display:inline-block; border-radius:999px; font-weight:800;
    color:#0e0f23; text-decoration:none; background:linear-gradient(90deg,var(--a1),var(--a2));
    box-shadow:0 6px 16px rgba(120,115,245,.45); overflow:hidden;
    transition:transform .15s ease, filter .2s ease, box-shadow .2s ease;
  }
  .spinbtn{padding:14px 24px; font-size:1rem; animation:btnPulse 2.2s ease-in-out infinite}
  .copybtn{padding:10px 16px; font-size:.9rem}

  @keyframes btnPulse{
    0%,100%{box-shadow:0 0 14px rgba(120,115,245,.55),0 0 28px rgba(255,110,196,.35); transform:scale(1)}
    50%{box-shadow:0 0 24px rgba(120,115,245,.75),0 0 38px rgba(255,110,196,.55); transform:scale(1.04)}
  }
  .spinbtn:hover,.copybtn:hover{filter:brightness(1.07)}
  .spinbtn:active,.copybtn:active{transform:scale(.98)}
  .spinbtn[disabled]{opacity:.6; pointer-events:none; animation:none}

  /* Shine sweep on hover */
  .spinbtn::after,.copybtn::after{
    content:""; position:absolute; inset:0;
    background:linear-gradient(120deg, transparent, #ffffff66 40%, transparent 70%);
    transform:translateX(-120%); transition:transform .45s ease;
  }
  .spinbtn:hover::after,.copybtn:hover::after{transform:translateX(120%)}

  /* Click burst */
  @keyframes clickBurst{0%{transform:scale(1)}40%{transform:scale(1.1)}100%{transform:scale(1)}}
  .spinbtn.clicked,.copybtn.clicked{animation:clickBurst .35s ease}

  /* --------- WHEEL --------- */
  .wheelWrap{ --W: min(78vw,360px); position:relative; display:grid; place-items:center; padding:12px; margin:14px auto 6px }
  /* drop shadow under wheel for 3D lift */
  .wheelWrap::after{
    content:""; position:absolute; width:80%; height:18px; bottom:-10px; left:50%; transform:translateX(-50%);
    background:radial-gradient(closest-side, rgba(0,0,0,.5), rgba(0,0,0,0));
    filter:blur(6px); z-index:0;
  }

  /* idle / spin state control */
  .wheelWrap.idle .orbit,
  .wheelWrap.idle .bulbs,
  .wheelWrap.idle .hub .shine,
  .wheelWrap.idle .hub img.logo { animation-play-state:running }
  .wheelWrap.is-spinning .orbit,
  .wheelWrap.is-spinning .bulbs,
  .wheelWrap.is-spinning .hub .shine { animation-play-state:paused } /* NOTE: logo NOT paused */

  .pointer{
    position:absolute; top: calc(50% - (var(--W)/2) - 2px); left:50%; transform:translateX(-50%);
    width:0; height:0; z-index:8;
    border-left:13px solid transparent; border-right:13px solid transparent; border-top:26px solid var(--warn);
    filter:drop-shadow(0 2px 2px rgba(0,0,0,.6));
  }
  .pointer::after{
    content:""; position:absolute; top:-18px; left:-9px; width:18px; height:18px; border-radius:50%;
    background:radial-gradient(circle at 35% 35%, #fff, #ffd53a 45%, #e3aa00 70%);
    box-shadow:0 0 10px rgba(255,214,58,.65), inset 0 0 6px rgba(255,255,255,.7);
  }

  /* Outer orbit ring (pre-spin motion) */
  .orbit{
    position:absolute; inset:-26px; border-radius:50%; z-index:3; pointer-events:none;
    background:
      conic-gradient(from 0deg, #ffffff30 0 1.3deg, #0000 1.3deg 12deg) repeat,
      conic-gradient(from 6deg, #ffffff25 0 1.3deg, #0000 1.3deg 12deg) repeat;
    -webkit-mask:radial-gradient(circle, transparent 80%, #000 82%);
            mask:radial-gradient(circle, transparent 80%, #000 82%);
    animation:orbit 6s linear infinite;
  }
  @keyframes orbit { to{ transform:rotate(360deg) } }

  .wheel{
    position:relative; z-index:1; width:var(--W); height:var(--W); border-radius:50%;
    /* Alternating wedges */
    background:conic-gradient(from -22.5deg,
      var(--wedgeDark) 0 12.5%, var(--wedgeLight) 0 25%,
      var(--wedgeDark) 0 37.5%, var(--wedgeLight) 0 50%,
      var(--wedgeDark) 0 62.5%, var(--wedgeLight) 0 75%,
      var(--wedgeDark) 0 87.5%, var(--wedgeLight) 0 100%);
    /* 3D face + rim */
    box-shadow:
      inset 0 0 0 12px #101235,
      inset 0 0 0 16px #1a1d3f,
      inset 20px 20px 40px rgba(0,0,0,.20),
      inset -8px -14px 24px rgba(255,255,255,.14),
      0 22px 50px rgba(0,0,0,.55);
    transition:transform 3s cubic-bezier(.22,.61,.36,1);
  }

  /* Golden beveled rim */
  .wheel::before{
    content:""; position:absolute; inset:-20px; border-radius:50%;
    background:conic-gradient(from 90deg, var(--gold1), var(--gold2), var(--gold3), var(--gold1));
    box-shadow:
      inset 0 10px 18px rgba(255,255,255,.45),
      inset 0 -14px 22px rgba(132,84,0,.50),
      0 12px 26px rgba(0,0,0,.45);
    z-index:-1;
  }

  /* Glass sheen & specular highlights */
  .wheel::after{
    content:""; position:absolute; inset:14px; border-radius:50%;
    background:
      radial-gradient(120% 80% at 30% 25%, #ffffff3a 0 35%, transparent 55%),
      radial-gradient(120% 80% at 70% 75%, #00000035 0 28%, transparent 60%);
    box-shadow:inset 0 0 0 2px #171a38, inset 0 0 30px rgba(0,0,0,.35);
  }

  /* Strong wedge borders + inner ticks */
  .separators{position:absolute; inset:0; pointer-events:none; z-index:4}
  .separators::before,
  .separators::after{
    content:""; position:absolute; border-radius:50%;
    -webkit-mask:radial-gradient(circle, transparent var(--cut,56%), #000 calc(var(--cut,56%) + 1%));
            mask:radial-gradient(circle, transparent var(--cut,56%), #000 calc(var(--cut,56%) + 1%));
  }
  .separators::before{
    inset:20px; --cut:56%;
    background:conic-gradient(#8a5a00 0 2.4deg, #0000 2.4deg 45deg) repeat;
    filter:drop-shadow(0 0 2px rgba(255,229,120,.75));
  }
  .separators::after{
    inset:42px; --cut:45%;
    background:conic-gradient(#fff 0 1deg, #0000 1deg 45deg) repeat;
    opacity:.7;
  }

  /* Rim bulbs (rotate in idle) */
  .bulbs{position:absolute; inset:-6px; z-index:6; pointer-events:none; animation:orbit 10s linear infinite}
  .bulbs i{
    position:absolute; left:50%; top:50%; width:14px; height:14px; border-radius:50%;
    background:radial-gradient(circle at 35% 35%, #fff, #8ee7ff 55%, #1bb3ff 80%);
    box-shadow:0 0 10px rgba(26,179,255,.7), inset 0 0 6px rgba(255,255,255,.9);
    transform:translate(-50%,-50%) rotate(var(--rot)) translate(calc(var(--W)/2 + 6px)) rotate(calc(-1*var(--rot)));
  }
  .bulbs i:nth-child(1){--rot:0deg}    .bulbs i:nth-child(2){--rot:30deg}
  .bulbs i:nth-child(3){--rot:60deg}   .bulbs i:nth-child(4){--rot:90deg}
  .bulbs i:nth-child(5){--rot:120deg}  .bulbs i:nth-child(6){--rot:150deg}
  .bulbs i:nth-child(7){--rot:180deg}  .bulbs i:nth-child(8){--rot:210deg}
  .bulbs i:nth-child(9){--rot:240deg}  .bulbs i:nth-child(10){--rot:270deg}
  .bulbs i:nth-child(11){--rot:300deg} .bulbs i:nth-child(12){--rot:330deg}

  /* Reward ICONS (8) */
  .labs{position:absolute; inset:0; z-index:5; pointer-events:none}
  .lab{
    position:absolute; left:50%; top:50%; transform-origin:center;
    --r: calc(var(--W) * .34); --theta: 0deg;
    transform:translate(-50%,-50%) rotate(var(--theta)) translateY(calc(-1 * var(--r)));
  }
  .lab img{ width:58px; height:58px; object-fit:contain; display:block; filter: drop-shadow(0 3px 6px rgba(0,0,0,.45)); }
  .lab.a{ --theta:   0deg; }  .lab.b{ --theta:  45deg; }
  .lab.c{ --theta:  90deg; }  .lab.d{ --theta: 135deg; }
  .lab.e{ --theta: 180deg; }  .lab.f{ --theta: 225deg; }
  .lab.g{ --theta: 270deg; }  .lab.h{ --theta: 315deg; }

  /* Center LOGO hub — now DARK plate so logo pops */
  .hub{
    position:absolute; z-index:9; left:50%; top:50%; transform:translate(-50%,-50%);
    width:calc(var(--W)*.32); height:calc(var(--W)*.32); max-width:128px; max-height:128px;
    border-radius:50%; cursor:pointer;
    background:
      radial-gradient(circle at 60% 40%, #1f2450 0 25%, #101432 55%, #0a0d22 100%); /* dark plate */
    box-shadow:
      inset 0 10px 18px rgba(255,255,255,.08),
      inset 0 -14px 22px rgba(0,0,0,.55),
      0 10px 22px rgba(0,0,0,.55),
      0 0 22px rgba(120,115,245,.25);
    display:grid; place-items:center; overflow:hidden;
    transition:transform .15s ease, filter .2s ease;
  }
  .hub:hover{filter:brightness(1.06); transform:translate(-50%,-50%) scale(1.03)}
  .hub .shine{
    position:absolute; inset:-30%;
    background:conic-gradient(from 0deg,#ffffff25 0 8%, #0000 8% 25%, #ffffff18 25% 33%, #0000 33% 50%, #ffffff12 50% 58%, #0000 58% 100%);
    animation:orbit 3.2s linear infinite; pointer-events:none;
  }
  .hub img.logo{
    width:72%; height:72%; object-fit:contain; filter:drop-shadow(0 4px 8px rgba(0,0,0,.55));
    animation:wobble 2.2s ease-in-out infinite; /* idle wobble */
  }
  @keyframes wobble{0%,100%{transform:rotate(-3deg) scale(1)}50%{transform:rotate(3deg) scale(1.03)}}

  /* During spinning: gentle rocking, NOT full 360 */
  @keyframes hubRock {
    0%   { transform: rotate(-8deg) }
    50%  { transform: rotate(  8deg) }
    100% { transform: rotate(-8deg) }
  }
  .wheelWrap.is-spinning .hub img.logo{
    animation: hubRock 1.2s ease-in-out infinite !important;
    transform-origin:50% 50%;
    filter:drop-shadow(0 6px 10px rgba(0,0,0,.6));
  }

  /* “Press” feedback on hub */
  .hub:active { transform: translate(-50%,-50%) scale(0.98); }

  /* Reveal/code */
  .reveal{opacity:0; visibility:hidden; margin-top:14px; border:1px solid var(--ring);
          border-radius:12px; background:#10122b; padding:12px; transition:opacity .3s ease}
  .reveal.show{opacity:1; visibility:visible}
  .codebox{display:flex; gap:8px; align-items:center; flex-wrap:wrap}
  .codebox .label{flex:0 0 auto; font-size:.95rem}
  .code{flex:1 1 220px; min-width:180px; padding:10px; border-radius:10px; border:1px solid var(--ring);
        background:#0f1128; color:#f2f3ff; font-family:ui-monospace,Menlo,Consolas,monospace; font-size:1rem}
  .copynote{margin-top:6px; color:#aeb2ef; font-size:.85rem}
  .ok{display:none; color:#1dd1a1}
</style>
</head>
<body>
<div class="ri-spin-masc2">
  <div class="ri-card" id="card" data-done="0">
    <h2 class="ri-title"><span class="ri-grad">VIP Day</span> – Spin the Wheel 🎡</h2>
    <p class="ri-sub">Tap to spin and reveal your code.</p>

    <button class="spinbtn" id="spinBtn">Spin Now</button>

    <div class="wheelWrap idle" id="wrap">
      <div class="pointer"></div>
      <!-- idle orbit accent -->
      <div class="orbit"></div>

      <div class="wheel" id="wheel">
        <div class="separators"></div>

        <!-- glowing bulbs (rotate in idle) -->
        <div class="bulbs">
          <i></i><i></i><i></i><i></i><i></i><i></i>
          <i></i><i></i><i></i><i></i><i></i><i></i>
        </div>

        <!-- 8 reward icons -->
        <div class="labs">
          <div class="lab a"><img alt="Free Spins"   src="https://ricobr.ft-crm.com/media-api/serve/81b24fae-5e7b-468e-b94a-896bc0e9cada_1.png"></div>
          <div class="lab b"><img alt="Lucky Ticket" src="https://ricobr.ft-crm.com/media-api/serve/f64adfc8-2762-4868-a84f-9e1e79e5dcd0_3.png"></div>
          <div class="lab c"><img alt="VIP Bonus"    src="https://ricobr.ft-crm.com/media-api/serve/0ba51d0c-9521-4fbb-8b37-6d527a545463_4.png"></div>
          <div class="lab d"><img alt="Mystery"      src="https://ricobr.ft-crm.com/media-api/serve/9cc65950-210b-4f56-995f-e4a94dd1d82c_2.png"></div>
          <div class="lab e"><img alt="Free Spins"   src="https://ricobr.ft-crm.com/media-api/serve/81b24fae-5e7b-468e-b94a-896bc0e9cada_1.png"></div>
          <div class="lab f"><img alt="Lucky Ticket" src="https://ricobr.ft-crm.com/media-api/serve/f64adfc8-2762-4868-a84f-9e1e79e5dcd0_3.png"></div>
          <div class="lab g"><img alt="VIP Bonus"    src="https://ricobr.ft-crm.com/media-api/serve/0ba51d0c-9521-4fbb-8b37-6d527a545463_4.png"></div>
          <div class="lab h"><img alt="Mystery"      src="https://ricobr.ft-crm.com/media-api/serve/9cc65950-210b-4f56-995f-e4a94dd1d82c_2.png"></div>
        </div>
      </div>

      <!-- Logo hub (clickable) -->
      <div class="hub" id="hub" title="Spin">
        <div class="shine"></div>
        <img class="logo" alt="RicoBet" src="https://ricobr.ft-crm.com/media-api/serve/fdc9eb88-2c14-4eeb-a6e7-558cbd47176d_logo.png">
      </div>
    </div>

    <div class="reveal" id="reveal">
      <div class="codebox">
        <span class="label" id="outcomeLabel">🎉 Your VIP code:</span>
        <input id="code" class="code" type="text" value="" readonly>
        <button class="copybtn" id="copyBtn">Copy</button>
      </div>
      <div class="copynote"><span class="tip">Tap Copy or long-press.</span> <span class="ok" id="copied">Copied ✔</span></div>
    </div>
  </div>
</div>

<script>
(function(){
  const wheel   = document.getElementById('wheel');
  const wrap    = document.getElementById('wrap');
  const spinBtn = document.getElementById('spinBtn');
  const hub     = document.getElementById('hub');
  const codeEl  = document.getElementById('code');
  const reveal  = document.getElementById('reveal');
  const copied  = document.getElementById('copied');
  const copyBtn = document.getElementById('copyBtn');
  const outcomeLabel = document.getElementById('outcomeLabel');
  const card    = document.getElementById('card');

  // 8 outcomes (duplicated rewards)
  const OUTCOMES = [
    { code:'VSTAR', name:'Free Spins',   angle:   0 },
    { code:'AURA',  name:'Lucky Ticket', angle:  45 },
    { code:'CHAMP', name:'VIP Bonus',    angle:  90 },
    { code:'VIPGO', name:'Mystery',      angle: 135 },
    { code:'VSTAR', name:'Free Spins',   angle: 180 },
    { code:'AURA',  name:'Lucky Ticket', angle: 225 },
    { code:'CHAMP', name:'VIP Bonus',    angle: 270 },
    { code:'VIPGO', name:'Mystery',      angle: 315 }
  ];

  const KEY_DONE='rb_spin_done', KEY_CODE='rb_spin_code', KEY_IDX='rb_spin_idx';

  // Reusable click animation on buttons
  function addClickAnim(el){
    if(!el) return;
    el.addEventListener('click',()=>{
      el.classList.remove('clicked'); void el.offsetWidth;
      el.classList.add('clicked');
      setTimeout(()=>el.classList.remove('clicked'),350);
    });
  }
  addClickAnim(spinBtn);
  addClickAnim(copyBtn);
  addClickAnim(hub);

  // Make hub act like the spin button + keyboard accessible
  if (hub) {
    hub.setAttribute('role','button');
    hub.setAttribute('tabindex','0');
    hub.setAttribute('aria-label','Spin the wheel');
    const triggerSpin = (e) => {
      e.preventDefault();
      if (card.getAttribute('data-done') === '1') return;
      spinBtn.click();
    };
    hub.addEventListener('click', triggerSpin);
    hub.addEventListener('keydown', (e) => {
      if (e.key === 'Enter' || e.key === ' ') triggerSpin(e);
    });
  }

  // Restore if already played
  if(localStorage.getItem(KEY_DONE)==='1'){
    const idx=parseInt(localStorage.getItem(KEY_IDX),10);
    if(!isNaN(idx) && OUTCOMES[idx]){
      const o=OUTCOMES[idx];
      wheel.style.transform='rotate('+o.angle+'deg)';
      codeEl.value=o.code;
      outcomeLabel.textContent='🎉 '+o.name+' — your VIP code:';
      reveal.classList.add('show');
      spinBtn.disabled=true;
      card.setAttribute('data-done','1');
      wrap.classList.remove('idle');
      wrap.classList.add('is-spinning'); // pause idle ornaments (logo keeps rocking)
    }
  }

  function pick(){ return Math.floor(Math.random()*OUTCOMES.length); }

  function spinTo(idx){
    const o=OUTCOMES[idx];
    const turns=4+Math.floor(Math.random()*3);
    const final=turns*360+o.angle;
    const over=final+22;

    // pause idle ornaments while spinning (logo will rock, not 360-spin)
    wrap.classList.add('is-spinning'); wrap.classList.remove('idle');

    wheel.style.transition='transform 2.6s cubic-bezier(.22,.61,.36,1)';
    wheel.style.transform='rotate('+over+'deg)';
    setTimeout(function(){
      wheel.style.transition='transform .6s cubic-bezier(.25,.9,.25,1)';
      wheel.style.transform='rotate('+final+'deg)';
    },2600);

    setTimeout(function(){
      codeEl.value=o.code;
      outcomeLabel.textContent='🎉 '+o.name+' — your VIP code:';
      reveal.classList.add('show');
      localStorage.setItem(KEY_DONE,'1');
      localStorage.setItem(KEY_CODE,o.code);
      localStorage.setItem(KEY_IDX,idx);
      card.setAttribute('data-done','1');
    },3300);
  }

  if(spinBtn){
    spinBtn.addEventListener('click',function(e){
      e.preventDefault();
      if(card.getAttribute('data-done')==='1')return;
      spinBtn.disabled=true;
      const idx=pick();
      spinTo(idx);
    });
  }

  if(copyBtn){
    copyBtn.addEventListener('click',async function(){
      const txt=codeEl.value; if(!txt)return;
      try{
        if(navigator.clipboard){ await navigator.clipboard.writeText(txt); }
        else{ codeEl.select(); document.execCommand('copy'); }
        copied.style.display='inline';
        setTimeout(()=>{copied.style.display='none';},1500);
      }catch(e){ alert('Copy failed. Please long-press the code.'); }
    });
  }
})();
</script>
</body>
</html>
