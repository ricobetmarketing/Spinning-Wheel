<!doctype html>
<html lang="en">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width, initial-scale=1" />
<title>Mini Games ‚Äî 6D Slot & Live Poker Voucher</title>
<style>
  :root{
    --bg:#0a0f1e; --panel:#121a33; --edge:#0b1328; --ink:#eaf2ff; --muted:#a6b4d6;
    --neon:#74f1ff; --neon2:#ff7bd3; --gold:#ffd76a; --lime:#8EFF98; --danger:#ff6464;
    --shadow: rgba(0,0,0,.55);
  }
  *{box-sizing:border-box}
  html,body{height:100%}
  body{
    margin:0; color:var(--ink); background:radial-gradient(1200px 800px at 70% -10%, #18244d 0%, #0a0f1e 55%, #05070d 100%);
    font-family: ui-sans-serif, system-ui, -apple-system, "Segoe UI", Roboto, Arial; letter-spacing:.2px;
    display:flex; flex-direction:column;
  }
  .wrap{width:min(1100px,96vw); margin:0 auto; padding:24px 0 40px;}
  header{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-bottom:16px}
  h1{margin:0; font-size:20px; font-weight:800; text-transform:uppercase; letter-spacing:.6px}
  .tabs{display:flex; gap:10px}
  .tab{cursor:pointer; border:0; padding:10px 14px; border-radius:999px; font-weight:700; color:#081022; background:linear-gradient(to right, var(--neon), var(--neon2)); box-shadow:0 8px 26px rgba(0,0,0,.35);}
  .tab.secondary{background:linear-gradient(180deg,#1a2747,#0f1832); color:var(--ink); outline:1px solid rgba(255,255,255,.08)}
  .panels{position:relative;}
  section.panel{display:none}
  section.panel.active{display:block}
  .card3d{
    position:relative; border-radius:22px; padding:18px; background:linear-gradient(180deg, #1b2a56, #0f1832);
    outline:1px solid rgba(255,255,255,.08); box-shadow: 0 16px 60px var(--shadow);
  }
  .gloss:before{
    content:""; position:absolute; inset:0; border-radius:22px; pointer-events:none;
    background:conic-gradient(from 210deg at 50% 0%, rgba(255,255,255,.18), rgba(255,255,255,0) 30%),
               linear-gradient(180deg, rgba(255,255,255,.06), transparent 30%);
  }
  .panel h2{margin:6px 0 12px; font-size:18px; opacity:.9}
  .sub{margin:0 0 14px; color:var(--muted)}
  .row{display:grid; grid-template-columns: 1.2fr .8fr; gap:18px}
  @media (max-width:900px){ .row{grid-template-columns:1fr} }

  /* === SLOT MACHINE === */
  .slot-shell{position:relative; border-radius:26px; padding:18px; background:linear-gradient(180deg,#071226,#030813);
    outline:1px solid rgba(255,255,255,.06); box-shadow: inset 0 0 50px rgba(116,241,255,.1), 0 18px 50px var(--shadow);
  }
  .slot-top{
    display:flex; align-items:center; justify-content:space-between; gap:10px; margin-bottom:12px;
  }
  .meter{display:flex; gap:8px}
  .badge{padding:8px 12px; border-radius:12px; background:linear-gradient(180deg,#0d1832,#0a1226); outline:1px solid rgba(255,255,255,.08); font-weight:700}
  .badge .v{color:var(--gold)}
  .reelbox{position:relative; border-radius:18px; padding:14px; background:linear-gradient(180deg,#0e1a3a,#0b142c); outline:1px solid rgba(255,255,255,.08);
    box-shadow: inset 0 -6px 0 rgba(0,0,0,.35), inset 0 30px 60px rgba(0,0,0,.45);
  }
  .reels{display:grid; grid-template-columns: repeat(6, 1fr); gap:10px; height:180px; perspective: 900px}
  .reel{position:relative; border-radius:14px; overflow:hidden; background:linear-gradient(180deg,#101b3a,#0c142b); outline:1px solid rgba(255,255,255,.06); box-shadow: inset 0 1px 0 rgba(255,255,255,.05), inset 0 -4px 0 rgba(0,0,0,.45)}
  .col{position:absolute; inset:0; display:flex; flex-direction:column; align-items:center; gap:14px; padding:14px;
    transform-style:preserve-3d;
  }
  .sym{width:100%; height:56px; display:grid; place-items:center; font-size:32px; font-weight:900; color:#fff; text-shadow:0 4px 14px rgba(0,0,0,.6);
    background:linear-gradient(180deg,#1b2a56,#0f1832); border-radius:12px; outline:1px solid rgba(255,255,255,.06);
  }
  .glow{position:absolute; inset:-20px; background:radial-gradient(200px 100px at 50% 0%, rgba(116,241,255,.15), transparent 70%); pointer-events:none}
  .controls{display:flex; align-items:center; justify-content:space-between; gap:12px; margin-top:12px}
  .lever{flex:1; display:flex; gap:10px}
  .btn{
    cursor:pointer; border:0; border-radius:16px; padding:14px 18px; font-weight:900; letter-spacing:.5px; text-transform:uppercase;
    background:linear-gradient(180deg,#1d2a52,#0e1935); color:var(--ink); outline:1px solid rgba(255,255,255,.1);
    box-shadow: 0 12px 30px rgba(0,0,0,.35);
  }
  .btn.primary{background:linear-gradient(to right, #71e1ff, #25c3ff)}
  .btn:active{transform:translateY(1px)}
  .payout{margin-left:auto; font-weight:800; color:var(--lime)}
  .hint{font-size:12px; color:var(--muted)}
  .winflash{position:absolute; inset:0; border-radius:26px; pointer-events:none; opacity:0; transition:opacity .3s ease; background:
    radial-gradient(500px 200px at 50% -10%, rgba(255,255,255,.15), transparent 60%),
    radial-gradient(500px 200px at 50% 110%, rgba(255,235,140,.25), transparent 60%)}
  .slot-shell.win .winflash{opacity:1}
  #confetti{position:absolute; inset:0; pointer-events:none}

  /* === POKER VOUCHER === */
  .voucher-grid{display:grid; grid-template-columns: repeat(3,1fr); gap:16px}
  @media (max-width:800px){ .voucher-grid{grid-template-columns:1fr 1fr;}
                             .voucher-grid .voucher:nth-child(3){grid-column: 1 / -1;} }
  .voucher{position:relative; perspective:1200px}
  .card{position:relative; width:100%; aspect-ratio: 5/7; transform-style:preserve-3d; transition: transform .8s cubic-bezier(.2,.8,.2,1);
        border-radius:18px}
  .card.is-flipped{transform: rotateY(180deg)}
  .face{position:absolute; inset:0; backface-visibility:hidden; border-radius:18px; display:grid; place-items:center;
        background:linear-gradient(180deg,#f7f7f9,#d8deee); color:#111; box-shadow: 0 14px 40px rgba(0,0,0,.35), inset 0 1px 0 #fff}
  .face.front{background:radial-gradient(200px 120px at 50% -20%, #ffffff, #e9eefc 40%, #c8d4f3 100%); outline:2px solid #e5ecff}
  .face.back{transform:rotateY(180deg); background:linear-gradient(180deg,#0e1a3a,#0a1329); color:var(--ink); outline:1px solid rgba(255,255,255,.08)}
  .pip{font-size:48px}
  .seal{position:absolute; inset:auto 12px 12px 12px; display:flex; justify-content:space-between; align-items:center; padding:10px 12px;
        border-radius:12px; background:rgba(0,0,0,.5); color:#fff; font-weight:800; letter-spacing:.4px}
  .copy{cursor:pointer; border:0; border-radius:10px; padding:8px 10px; font-weight:800; background:linear-gradient(to right,#71e1ff,#25c3ff)}
  .lock{position:absolute; top:8px; right:8px; background:rgba(0,0,0,.5); padding:6px 8px; border-radius:10px; font-size:12px}
  .once{color:var(--muted); font-size:12px; margin-top:8px}
  .disclaimer{font-size:12px; color:var(--muted); margin-top:6px}

  footer{margin-top:24px; text-align:center; color:var(--muted); font-size:12px}
</style>
</head>
<body>
  <div class="wrap">
    <header>
      <h1>Mini Games Hub</h1>
      <div class="tabs">
        <button class="tab" id="tab-slot">üé∞ Casino: 6‚ÄëReel Real Slot</button>
        <button class="tab secondary" id="tab-live">üÉè Live: Poker Voucher Flip</button>
      </div>
    </header>

    <div class="panels">
      <!-- === SLOT PANEL === -->
      <section class="panel active" id="panel-slot">
        <div class="card3d gloss">
          <h2>6‚ÄëReel ‚Äú6D‚Äù Slot Machine</h2>
          <p class="sub">Cinematic depth, glossy reels, neon glow. Click SPIN to roll 6 reels. Matching 3+ pays a prize banner (demo logic). Tweak symbols & odds in code.</p>

          <div class="slot-shell" id="slot">
            <div class="winflash"></div>
            <canvas id="confetti"></canvas>
            <div class="slot-top">
              <div class="meter">
                <div class="badge">Balance: <span class="v" id="bal">1000</span></div>
                <div class="badge">Bet: <span class="v" id="bet">10</span></div>
              </div>
              <div class="badge">Last Win: <span class="v" id="lastWin">0</span></div>
            </div>

            <div class="reelbox">
              <div class="reels" id="reels"></div>
              <div class="glow"></div>
            </div>

            <div class="controls">
              <div class="lever">
                <button class="btn" id="minus">‚àí</button>
                <button class="btn" id="plus">+</button>
                <button class="btn primary" id="spin">Spin</button>
                <span class="hint">Tip: hold SPIN for turbo.</span>
              </div>
              <div class="payout" id="payout">¬†</div>
            </div>
          </div>
        </div>
      </section>

      <!-- === LIVE POKER VOUCHER PANEL === -->
      <section class="panel" id="panel-live">
        <div class="card3d gloss">
          <h2>Live Casino ‚Äî Pick 1 of 3 Cards</h2>
          <p class="sub">Each card hides a different voucher. Flip exactly once to reveal your unique code. Codes & one‚Äëflip rule are stored locally to prevent reruns.</p>
          <div class="voucher-grid" id="voucherGrid">
            <!-- Cards injected by JS -->
          </div>
          <div class="once">You can only flip once per device for this event. Admin: change <code>VOUCHER_CODES</code> in JS.</div>
          <div class="disclaimer">Note: For production, validate redemption server‚Äëside. GitHub Pages is static ‚Äî use your backend to mark codes as used.</div>
        </div>
      </section>
    </div>

    <footer>¬© Your Brand ‚Äî Demo visuals built with pure HTML/CSS/JS. Host on GitHub Pages.</footer>
  </div>

<script>
/*** TABS ***/
const tabSlot=document.getElementById('tab-slot');
const tabLive=document.getElementById('tab-live');
const pSlot=document.getElementById('panel-slot');
const pLive=document.getElementById('panel-live');
function show(panel){
  pSlot.classList.toggle('active', panel==='slot');
  pLive.classList.toggle('active', panel==='live');
  tabSlot.classList.toggle('secondary', panel!=='slot');
  tabLive.classList.toggle('secondary', panel!=='live');
}

[tabSlot,tabLive].forEach(btn=>btn.addEventListener('click',()=>show(btn===tabSlot?'slot':'live')));

/*** SLOT MACHINE ***/
const SYMBOLS=["üçí","üíé","7Ô∏è‚É£","‚≠ê","üîî","BAR"]; // can be replaced with image sprites
const reelsEl=document.getElementById('reels');
const balEl=document.getElementById('bal');
const betEl=document.getElementById('bet');
const lastWinEl=document.getElementById('lastWin');
const payoutEl=document.getElementById('payout');
const spinBtn=document.getElementById('spin');
const minusBtn=document.getElementById('minus');
const plusBtn=document.getElementById('plus');
const slotShell=document.getElementById('slot');

let BAL=1000, BET=10, spinning=false, turbo=false;
function fmt(n){return Number(n).toLocaleString()}
function setBet(v){BET=Math.max(1, Math.min(100, v)); betEl.textContent=BET}
setBet(BET); balEl.textContent=fmt(BAL);

function makeReel(){
  const reel=document.createElement('div'); reel.className='reel';
  const col=document.createElement('div'); col.className='col';
  // stack 16 symbols for nice rolling
  const pool = [];
  for(let i=0;i<16;i++){ pool.push(SYMBOLS[Math.floor(Math.random()*SYMBOLS.length)]) }
  pool.forEach(s=>{
    const d=document.createElement('div'); d.className='sym'; d.textContent=s; col.appendChild(d);
  });
  reel.appendChild(col); return reel;
}
for(let i=0;i<6;i++){ reelsEl.appendChild(makeReel()); }

function spinOnce(){
  if(spinning) return; if(BAL < BET){ payoutEl.textContent='Insufficient balance'; return; }
  spinning=true; BAL-=BET; balEl.textContent=fmt(BAL); payoutEl.textContent=''; slotShell.classList.remove('win');
  const cols=[...document.querySelectorAll('.reel .col')];
  const results=[]; // top visible symbols after stop

  cols.forEach((col,idx)=>{
    const dur = (turbo? 600: 1400) + idx*120; // cascade stop
    const start=performance.now();
    const anim=()=>{
      const t=performance.now()-start;
      const p=Math.min(1,t/dur);
      const offset= - (p * 14 * 56); // 14 symbols * 56px height
      col.style.transform=`translateY(${offset}px) rotateX(${p*15}deg)`;
      if(t<dur){ requestAnimationFrame(anim); } else {
        // settle on 3 random symbols (choose one for result)
        const s = SYMBOLS[Math.floor(Math.random()*SYMBOLS.length)];
        const d=document.createElement('div'); d.className='sym'; d.textContent=s; col.appendChild(d);
        col.style.transform='translateY(0)';
        // keep last 16 symbols only
        while(col.children.length>16){ col.removeChild(col.firstChild) }
        results[idx]=s;
        if(results.filter(Boolean).length===cols.length){ evaluate(results) }
      }
    };
    requestAnimationFrame(anim);
  });
}

function evaluate(arr){
  // simple demo: count most frequent symbol. 3+ of a kind wins.
  const freq={}; arr.forEach(s=>freq[s]=(freq[s]||0)+1);
  let bestSym=null, best=0; for(const k in freq){ if(freq[k]>best){best=freq[k]; bestSym=k} }
  let win=0;
  if(best>=3){ win = Math.round(BET * (best===3? 3 : best===4? 8 : best===5? 16 : 32)); }
  BAL += win; balEl.textContent=fmt(BAL); lastWinEl.textContent=fmt(win);
  if(win>0){
    payoutEl.textContent=`WIN ${fmt(win)} ‚Äî ${best}√ó ${bestSym}`;
    slotShell.classList.add('win');
    burstConfetti();
  } else {
    payoutEl.textContent='No win ‚Äî try again';
  }
  spinning=false;
}

spinBtn.addEventListener('mousedown',()=>{ turbo=true; })
spinBtn.addEventListener('mouseup',()=>{ turbo=false; })
spinBtn.addEventListener('mouseleave',()=>{ turbo=false; })
spinBtn.addEventListener('click',spinOnce);
minusBtn.addEventListener('click',()=>setBet(BET-1));
plusBtn.addEventListener('click',()=>setBet(BET+1));

/*** CONFETTI (tiny canvas) ***/
const canvas=document.getElementById('confetti');
const ctx=canvas.getContext('2d');
function resize(){ canvas.width=canvas.clientWidth; canvas.height=canvas.clientHeight }
window.addEventListener('resize',resize); resize();
function burstConfetti(){
  const parts=[]; const N=80; for(let i=0;i<N;i++){
    parts.push({x:Math.random()*canvas.width, y:-10, vx:(Math.random()-0.5)*2, vy:Math.random()*2+1, r: Math.random()*3+2, life: 120+Math.random()*40});
  }
  let t=0; (function loop(){
    t++; ctx.clearRect(0,0,canvas.width,canvas.height);
    parts.forEach(p=>{ p.x+=p.vx; p.y+=p.vy; p.vy+=0.02; p.life--; ctx.globalAlpha=Math.max(0,p.life/160); ctx.beginPath(); ctx.arc(p.x,p.y,p.r,0,Math.PI*2); ctx.fillStyle=`hsl(${(p.x+p.y)%360},100%,70%)`; ctx.fill(); });
    ctx.globalAlpha=1;
    if(t<170) requestAnimationFrame(loop); else ctx.clearRect(0,0,canvas.width,canvas.height);
  })();
}

/*** VOUCHER CARDS ***/
const VOUCHER_CODES = [
  {label:'Poker Bonus', code:'POKER-ACE-9X5'},
  {label:'Live Cashback', code:'LIVE-CASH-15'},
  {label:'VIP Ticket', code:'VIP-TICKET-01'}
];
const FLIP_KEY='live_voucher_claimed_v1';

function setupVouchers(){
  const grid=document.getElementById('voucherGrid'); grid.innerHTML='';
  const claimed = localStorage.getItem(FLIP_KEY);
  const deck=['‚ô†','‚ô•','‚ô¶'];
  // shuffle codes
  const codes=[...VOUCHER_CODES].sort(()=>Math.random()-.5);
  for(let i=0;i<3;i++){
    const voucher=document.createElement('div'); voucher.className='voucher';
    const card=document.createElement('div'); card.className='card';
    const front=document.createElement('div'); front.className='face front'; front.innerHTML=`<div class="pip" aria-hidden>üÇ†</div>`;
    const back=document.createElement('div'); back.className='face back';
    const label=codes[i].label; const code=codes[i].code;
    back.innerHTML=`<div style="text-align:center"><div style="font-size:46px; margin-bottom:8px">${deck[i]}</div><div style="font-weight:800; font-size:18px; margin-bottom:8px">${label}</div><div style="font-family:ui-monospace, SFMono-Regular, Menlo, monospace; font-size:16px; letter-spacing:.6px" id="code-${i}">${code}</div></div><div class="seal"><span>Voucher</span><button class="copy" data-code="${code}">Copy</button></div>`;
    card.appendChild(front); card.appendChild(back); voucher.appendChild(card);

    if(claimed){
      // already claimed ‚Äî disable flips and show lock
      const lock=document.createElement('div'); lock.className='lock'; lock.textContent='Claimed'; voucher.appendChild(lock);
      card.classList.add('is-flipped');
    } else {
      card.addEventListener('click',()=> claim(card, code));
    }

    grid.appendChild(voucher);
  }

  grid.addEventListener('click',e=>{
    const btn=e.target.closest('.copy'); if(!btn) return; navigator.clipboard.writeText(btn.dataset.code).then(()=>{ btn.textContent='Copied!'; setTimeout(()=>btn.textContent='Copy',1200) }).catch(()=>{});
  });
}

function claim(card, code){
  const already=localStorage.getItem(FLIP_KEY); if(already) return; // safety
  // flip selected, lock others
  card.classList.add('is-flipped');
  localStorage.setItem(FLIP_KEY, JSON.stringify({code, ts: Date.now()}));
  // disable other cards
  document.querySelectorAll('.voucher .card').forEach(c=>{ if(c!==card){ c.style.pointerEvents='none'; c.parentElement.insertAdjacentHTML('beforeend','<div class="lock">Locked</div>'); }});
}

setupVouchers();

</script>
</body>
</html>
