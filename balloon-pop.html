<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="utf-8"/><meta name="viewport" content="width=device-width,initial-scale=1"/>
<title>VIP Day ‚Äì Balloon Pop</title>
<style>
:root{--bg:#0e0f23;--card:#111228;--ring:rgba(255,255,255,.12);--text:#f2f3ff;--dim:#b9baf5;--a1:#ff6ec4;--a2:#7873f5}
*{box-sizing:border-box}
body{margin:0;background:var(--bg);color:var(--text);font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,Arial,sans-serif}
.wrap{max-width:560px;margin:0 auto;padding:20px 14px}
.card{background:var(--card);border:1px solid var(--ring);border-radius:16px;box-shadow:0 8px 32px rgba(0,0,0,.45);padding:16px;text-align:center;position:relative;overflow:hidden}
h1{margin:6px 0 4px;font-size:1.2rem}
.grad{background:linear-gradient(90deg,var(--a1),var(--a2));-webkit-background-clip:text;background-clip:text;color:transparent}
.sub{margin:0 10px 14px;color:var(--dim)}

.balloons{display:flex;gap:12px;justify-content:center;flex-wrap:wrap;padding:12px}
.balloon{position:relative;width:96px;height:120px;border-radius:50% 50% 45% 45%;
  background:radial-gradient(circle at 30% 30%,rgba(255,255,255,.15),transparent 40%),
             linear-gradient(180deg,#ff6ec4,#7873f5);
  box-shadow:inset 0 -10px 20px rgba(0,0,0,.25),0 8px 18px rgba(0,0,0,.25);
  cursor:pointer;transition:transform .12s ease, box-shadow .2s ease; outline:none}
.balloon:after{content:"";position:absolute;bottom:-12px;left:50%;transform:translateX(-50%);width:2px;height:34px;background:#8aa}
.balloon:hover{transform:translateY(-2px)}
.balloon:focus{box-shadow:0 0 0 3px rgba(255,255,255,.15), inset 0 -10px 20px rgba(0,0,0,.25),0 8px 18px rgba(0,0,0,.25)}
.balloon .badge{position:absolute;top:6px;right:8px;background:rgba(0,0,0,.35);border:1px solid rgba(255,255,255,.15);color:#fff;font-size:.7rem;padding:2px 6px;border-radius:999px}

.pop{animation:boom .28s ease forwards}
@keyframes boom{40%{transform:scale(1.06)}100%{transform:scale(0);opacity:0}}

.reveal{opacity:0;visibility:hidden;margin-top:12px;border:1px dashed var(--ring);border-radius:12px;background:#10122b;padding:14px;transition:opacity .22s ease}
.reveal.show{opacity:1;visibility:visible;animation:bounceIn .6s ease, glow 1.5s ease-out 2}
@keyframes bounceIn{0%{opacity:0;transform:scale(.86) translateY(22px)}60%{opacity:1;transform:scale(1.05) translateY(-4px)}100%{transform:scale(1) translateY(0)}}
@keyframes glow{0%{box-shadow:0 0 0 rgba(255,230,0,.0)}50%{box-shadow:0 0 16px rgba(255,230,0,.9)}100%{box-shadow:0 0 0 rgba(255,230,0,.0)}}

.shake{animation:shake .4s ease}
@keyframes shake{0%,100%{transform:translateX(0)}20%{transform:translateX(-6px)}40%{transform:translateX(6px)}60%{transform:translateX(-3px)}80%{transform:translateX(3px)}}

.codebox{display:flex;gap:8px;align-items:center;flex-wrap:wrap}
.code{flex:1 1 220px;min-width:180px;padding:10px;border-radius:10px;border:1px solid var(--ring);background:#0f1128;color:#f2f3ff;font-family:ui-monospace,Menlo,Consolas,monospace}
.copy{flex:0 0 auto;border:0;border-radius:999px;padding:10px 14px;font-weight:800;background:linear-gradient(90deg,#ff6ec4,#7873f5);color:#0e0f23;cursor:pointer}
.note{margin-top:6px;color:var(--dim);font-size:.85rem}
.ok{display:none;color:#1dd1a1}

/* Confetti layer */
.cfx{pointer-events:none;position:absolute;inset:0;overflow:hidden;z-index:5;display:none}
.cfx.show{display:block}
.cfx i{position:absolute;top:-10px;width:8px;height:12px;border-radius:2px;opacity:.95;background:var(--conf,#fff);
       transform:translateY(-20px) rotate(0deg);animation:fall 1.1s ease forwards;box-shadow:0 0 8px rgba(0,0,0,.25)}
@keyframes fall{to{transform:translateY(220px) rotate(360deg);opacity:.98}}
</style>
</head>
<body>
<div class="wrap">
  <div class="card" id="card" data-done="0">
    <h1><span class="grad">VIP Day</span> ‚Äì Balloon Pop üéà</h1>
    <p class="sub">Pop a balloon to reveal your code.</p>

    <div class="balloons" id="balloons" aria-live="polite">
      <!-- Each balloon holds its own code -->
      <div class="balloon" data-code="SAYANG" role="button" tabindex="0" aria-label="Balloon 1"><span class="badge">1</span></div>
      <div class="balloon" data-code="FSPINS" role="button" tabindex="0" aria-label="Balloon 2"><span class="badge">2</span></div>
      <div class="balloon" data-code="SWEET"  role="button" tabindex="0" aria-label="Balloon 3"><span class="badge">3</span></div>
      <div class="balloon" data-code="GOOD"   role="button" tabindex="0" aria-label="Balloon 4"><span class="badge">4</span></div>
    </div>

    <div class="reveal" id="reveal">
      <div class="codebox">
        <span>üéÅ Your VIP code:</span>
        <input id="code" class="code" type="text" value="" readonly onclick="this.select();try{document.execCommand('copy');}catch(e){}">
        <button id="copyBtn" class="copy">Copy</button>
      </div>
      <div class="note"><span class="tip">Tap Copy or long-press to copy.</span> <span id="copied" class="ok">Copied ‚úî</span></div>
    </div>

    <div class="cfx" id="cfx"></div>
  </div>
</div>

<script>
(function(){
  var KEY_DONE='rb_vip_balloons_done_202509';
  var KEY_CODE='rb_vip_balloons_code_202509';

  var card=document.getElementById('card');
  var rev=document.getElementById('reveal');
  var codeInput=document.getElementById('code');
  var copyBtn=document.getElementById('copyBtn');
  var copied=document.getElementById('copied');
  var balloons=[].slice.call(document.querySelectorAll('.balloon'));
  var cfx=document.getElementById('cfx');

  // Restore if already played
  try{
    if(localStorage.getItem(KEY_DONE)==='1'){
      var saved=localStorage.getItem(KEY_CODE)||'';
      codeInput.value=saved;
      revealWithEffects();
      disableBalloons();
    }
  }catch(e){}

  function disableBalloons(){
    balloons.forEach(function(b){ b.style.pointerEvents='none'; b.setAttribute('aria-disabled','true'); });
    card.setAttribute('data-done','1');
  }

  function confetti(){
    if(!cfx) return;
    cfx.classList.add('show'); cfx.innerHTML='';
    var colors=['#ff6ec4','#7873f5','#ffe600','#1dd1a1','#ffffff'];
    for(var i=0;i<32;i++){
      var s=document.createElement('i');
      s.style.left=(5+Math.random()*90)+'%';
      s.style.setProperty('--conf', colors[(Math.random()*colors.length)|0]);
      s.style.animationDelay=(Math.random()*0.25)+'s';
      cfx.appendChild(s);
    }
    setTimeout(function(){ cfx.classList.remove('show'); }, 1200);
  }

  function revealWithEffects(){
    // shake the card quickly then show reveal with bounce+glow
    card.classList.add('shake');
    setTimeout(function(){ card.classList.remove('shake'); }, 420);
    rev.classList.add('show');
    confetti();
  }

  function pick(el){
    if(card.getAttribute('data-done')==='1') return;
    var val = el.getAttribute('data-code') || '';
    // pop effect
    el.classList.add('pop');
    // after pop, reveal code + lock + effects
    setTimeout(function(){
      codeInput.value = val;
      revealWithEffects();
      disableBalloons();
      try{
        localStorage.setItem(KEY_DONE,'1');
        localStorage.setItem(KEY_CODE,val);
      }catch(e){}
    }, 260);
  }

  balloons.forEach(function(b){
    b.addEventListener('click', function(){ pick(b); });
    b.addEventListener('keydown', function(e){ if(e.key==='Enter'||e.key===' '){ e.preventDefault(); pick(b);} });
  });

  if(copyBtn){
    copyBtn.addEventListener('click', function(){
      codeInput.select();
      try{
        document.execCommand('copy');
        copied.style.display='inline';
        setTimeout(function(){ copied.style.display='none'; }, 1200);
      }catch(e){}
    });
  }
})();
</script>
</body>
</html>

